apiVersion: v1
kind: ConfigMap
metadata:
  name: task-manager-config
  namespace: task-manager
data:
  mapRoles: |
    - rolearn: arn:aws:iam::998948478357:role/GitHubActionsEKSDeployRole-prod
      username: github-actions
      groups:
        - system:masters
  # Application configuration
  FLASK_ENV: "production"
  FLASK_APP: "app.py"
  LOG_LEVEL: "INFO"
  
  # API configuration
  API_PREFIX: "/api"
  CORS_ORIGINS: "https://app.task-manager.com"
  
  # Database configuration (non-sensitive)
  DB_HOST: "task-manager-db-000gwi.cs30wcyaq22y.us-east-1.rds.amazonaws.com"
  DB_PORT: "5432"
  DB_NAME: "taskdb"
  
  # Redis configuration
  REDIS_HOST: "task-manager-redis.xxx.0001.use1.cache.amazonaws.com"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  
  # Feature flags
  ENABLE_CACHING: "true"
  ENABLE_RATE_LIMITING: "true"
  ENABLE_METRICS: "true"
  
  # Performance settings
  WORKERS: "4"
  THREADS: "2"
  MAX_REQUESTS: "1000"
  TIMEOUT: "30"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: task-manager-config
  namespace: task-manager-staging
data:
  FLASK_ENV: "staging"
  FLASK_APP: "app.py"
  LOG_LEVEL: "DEBUG"
  API_PREFIX: "/api"
  CORS_ORIGINS: "https://staging.task-manager.com"
  ENABLE_CACHING: "false"
  ENABLE_RATE_LIMITING: "false"
  ENABLE_METRICS: "true"
  WORKERS: "2"
  THREADS: "2"
